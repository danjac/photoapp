{% macro render_form(form, method="POST", action=None, multipart=False) %}
<form method="{{ method }}" action="{{ action or request.url }}" {% if multipart %}enctype="multipart/form-data"{% endif %} {% for k, v in kwargs.items() %} {{ k }}="{{ v }}" {% endfor %}>
   {{ form.csrf_token }}
   {{ caller() }} 
</form>
{% endmacro %}

{% macro render_errors(field) %}
{% for error in field.errors %}
<div class="alert alert-error last">{{ error }}</div>
{% endfor %}
{% endmacro %}

{% macro render_field(field) %}
{{ render_errors(field) }}
<div class="controls">
    {{ field.label }}
    {{ field(**kwargs) }}
</div>
{% endmacro %}



